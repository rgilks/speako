#!/bin/sh
set -e

echo "ğŸ” Running pre-commit checks..."

# Type check
echo "ğŸ“˜ Type checking..."
npx tsc --noEmit

# Lint Python files with ruff
echo "ğŸ Checking Python..."
uvx ruff check ml/ --fix
uvx ruff format ml/

# Lint and format staged files
echo "âœ¨ Linting and formatting..."
npx lint-staged

# Run unit tests
echo "ğŸ§ª Running tests..."
npm test

echo "âœ… All pre-commit checks passed!"
